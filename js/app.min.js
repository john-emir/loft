"use strict";const spollersArray=document.querySelectorAll("[data-spollers]");if(spollersArray.length>0){const spollersRegular=Array.from(spollersArray).filter((function(item,index,self){return!item.dataset.spollers.split(",")[0]}));spollersRegular.length>0&&initSpollers(spollersRegular);const spollersMedia=Array.from(spollersArray).filter((function(item,index,self){return item.dataset.spollers.split(",")[0]}));if(spollersMedia.length>0){const breakpointsArray=[];spollersMedia.forEach(item=>{const params=item.dataset.spollers,breakpoint={},paramsArray=params.split(",");breakpoint.value=paramsArray[0],breakpoint.type=paramsArray[1]?paramsArray[1].trim():"max",breakpoint.item=item,breakpointsArray.push(breakpoint)});let mediaQueries=breakpointsArray.map((function(item){return"("+item.type+"-width: "+item.value+"px),"+item.value+","+item.type}));mediaQueries=mediaQueries.filter((function(item,index,self){return self.indexOf(item)===index})),mediaQueries.forEach(breakpoint=>{const paramsArray=breakpoint.split(","),mediaBreakpoint=paramsArray[1],mediaType=paramsArray[2],matchMedia=window.matchMedia(paramsArray[0]),spollersArray=breakpointsArray.filter((function(item){if(item.value===mediaBreakpoint&&item.type===mediaType)return!0}));matchMedia.addListener((function(){initSpollers(spollersArray,matchMedia)})),initSpollers(spollersArray,matchMedia)})}function initSpollers(spollersArray,matchMedia=!1){spollersArray.forEach(spollersBlock=>{spollersBlock=matchMedia?spollersBlock.item:spollersBlock,matchMedia.matches||!matchMedia?(spollersBlock.classList.add("_init"),initSpollerBody(spollersBlock),spollersBlock.addEventListener("click",setSpollerAction)):(spollersBlock.classList.remove("_init"),initSpollerBody(spollersBlock,!1),spollersBlock.removeEventListener("click",setSpollerAction))})}function initSpollerBody(spollersBlock,hideSpollerBody=!0){const spollerTitles=spollersBlock.querySelectorAll("[data-spoller]");spollerTitles.length>0&&spollerTitles.forEach(spollerTitle=>{hideSpollerBody?(spollerTitle.removeAttribute("tabindex"),spollerTitle.classList.contains("_active")||(spollerTitle.nextElementSibling.hidden=!0)):(spollerTitle.setAttribute("tabindex","-1"),spollerTitle.nextElementSibling.hidden=!1)})}function setSpollerAction(e){const el=e.target;if(el.hasAttribute("data-spoller")||el.closest("[data-spoller]")){const spollerTitle=el.hasAttribute("data-spoller")?el:el.closest("[data-spoller]"),spollersBlock=spollerTitle.closest("[data-spollers]"),oneSpoller=!!spollersBlock.hasAttribute("data-one-spoller");spollersBlock.querySelectorAll("._slide").length||(oneSpoller&&!spollerTitle.classList.contains("_active")&&hideSpollersBody(spollersBlock),spollerTitle.classList.toggle("_active"),_slideToggle(spollerTitle.nextElementSibling,500)),e.preventDefault()}}function hideSpollersBody(spollersBlock){const spollerActiveTitle=spollersBlock.querySelector("[data-spoller]._active");spollerActiveTitle&&(spollerActiveTitle.classList.remove("_active"),_slideUp(spollerActiveTitle.nextElementSibling,500))}}let _slideUp=(target,duration=500)=>{target.classList.contains("_slide")||(target.classList.add("_slide"),target.style.transitionProperty="height, margin, padding",target.style.transitionDuration=duration+"ms",target.style.height=target.offsetHeight+"px",target.offsetHeight,target.style.overflow="hidden",target.style.height=0,target.style.paddingTop=0,target.style.paddingBottom=0,target.style.marginTop=0,target.style.marginBottom=0,window.setTimeout(()=>{target.hidden=!0,target.style.removeProperty("height"),target.style.removeProperty("padding-top"),target.style.removeProperty("padding-bottom"),target.style.removeProperty("margin-top"),target.style.removeProperty("margin-bottom"),target.style.removeProperty("overflow"),target.style.removeProperty("transition-duration"),target.style.removeProperty("transition-property"),target.classList.remove("_slide")},duration))},_slideDown=(target,duration=500)=>{if(!target.classList.contains("_slide")){target.classList.add("_slide"),target.hidden&&(target.hidden=!1);let height=target.offsetHeight;target.style.overflow="hidden",target.style.height=0,target.style.paddingTop=0,target.style.paddingBottom=0,target.style.marginTop=0,target.style.marginBottom=0,target.offsetHeight,target.style.transitionProperty="height, margin, padding",target.style.transitionDuration=duration+"ms",target.style.height=height+"px",target.style.removeProperty("padding-top"),target.style.removeProperty("padding-bottom"),target.style.removeProperty("margin-top"),target.style.removeProperty("margin-bottom"),window.setTimeout(()=>{target.style.removeProperty("height"),target.style.removeProperty("overflow"),target.style.removeProperty("transition-duration"),target.style.removeProperty("transition-property"),target.classList.remove("_slide")},duration)}},_slideToggle=(target,duration=500)=>target.hidden?_slideDown(target,duration):_slideUp(target,duration),beg=document.querySelector(".beg"),menuBody=document.querySelector(".menu__body"),body=document.querySelector("body");beg.onclick=function(){body.classList.remove("_lock"),console.log("dscfesf"),menuBody.classList.remove("_active"),iconMenu.classList.remove("_active"),body.classList.remove("_lock")},window.onload=function(){function documentActions(e){const targetElement=e.target;if(targetElement.classList.contains("items")){let buttons;document.querySelectorAll(".items").forEach(el=>{el.classList.remove("_active")}),targetElement.classList.toggle("_active")}}document.addEventListener("click",documentActions)};var swiper=new Swiper(".mySwiper",{navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}});let forms=document.querySelectorAll("form");if(forms.length>0)for(let index=0;index<forms.length;index++){const el=forms[index];el.addEventListener("submit",form_submit)}async function form_submit(e){let btn,form=e.target.closest("form"),error;if(0==form_validate(form)){let formAction=form.getAttribute("action")?form.getAttribute("action").trim():"#",formMethod=form.getAttribute("method")?form.getAttribute("method").trim():"GET";const message=form.getAttribute("data-message"),ajax=form.getAttribute("data-ajax");if(ajax){e.preventDefault();let formData=new FormData(form);form.classList.add("_sending");let response=await fetch(formAction,{method:formMethod,body:formData});if(response.ok){let result=await response.json();form.classList.remove("_sending"),message&&popup_open("_"+message+"-message"),form_clean(form)}else alert("Ошибка"),form.classList.remove("_sending")}}else{let form_error=form.querySelectorAll("._error");form_error&&form.classList.contains("_goto-error")&&_goto(form_error[0],1e3,50),e.preventDefault()}}function form_validate(form){let error=0,form_req=form.querySelectorAll("._req");if(form_req.length>0)for(let index=0;index<form_req.length;index++){const el=form_req[index];_is_hidden(el)||(error+=form_validate_input(el))}return error}function form_validate_input(input){let error=0,input_g_value=input.getAttribute("data-value");if("email"==input.getAttribute("name")||input.classList.contains("_email")){if(input.value!=input_g_value){let em=input.value.replace(" ","");input.value=em}email_test(input)||input.value==input_g_value?(form_add_error(input),error++):form_remove_error(input)}else"checkbox"==input.getAttribute("type")&&0==input.checked?(form_add_error(input),error++):""==input.value||input.value==input_g_value?(form_add_error(input),error++):form_remove_error(input);return error}function form_add_error(input){input.classList.add("_error"),input.parentElement.classList.add("_error");let input_error=input.parentElement.querySelector(".form__error");input_error&&input.parentElement.removeChild(input_error);let input_error_text=input.getAttribute("data-error");input_error_text&&""!=input_error_text&&input.parentElement.insertAdjacentHTML("beforeend",'<div class="form__error">'+input_error_text+"</div>")}function form_remove_error(input){input.classList.remove("_error"),input.parentElement.classList.remove("_error");let input_error=input.parentElement.querySelector(".form__error");input_error&&input.parentElement.removeChild(input_error)}function form_clean(form){let inputs=form.querySelectorAll("input,textarea");for(let index=0;index<inputs.length;index++){const el=inputs[index];el.parentElement.classList.remove("_focus"),el.classList.remove("_focus"),el.value=el.getAttribute("data-value")}let checkboxes=form.querySelectorAll(".checkbox__input");if(checkboxes.length>0)for(let index=0;index<checkboxes.length;index++){const checkbox=checkboxes[index];checkbox.checked=!1}let selects=form.querySelectorAll("select");if(selects.length>0)for(let index=0;index<selects.length;index++){const select=selects[index],select_default_value=select.getAttribute("data-default");select.value=select_default_value,select_item(select)}}let viewPass=document.querySelectorAll(".form__viewpass");for(let index=0;index<viewPass.length;index++){const element=viewPass[index];element.addEventListener("click",(function(e){element.classList.contains("_active")?element.parentElement.querySelector("input").setAttribute("type","password"):element.parentElement.querySelector("input").setAttribute("type","text"),element.classList.toggle("_active")}))}let selects=document.getElementsByTagName("select");function selects_init(){for(let index=0;index<selects.length;index++){const select=selects[index];select_init(select)}document.addEventListener("click",(function(e){selects_close(e)})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&selects_close(e)}))}function selects_close(e){const selects=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let index=0;index<selects.length;index++){const select=selects[index],select_body_options=select.querySelector(".select__options");select.classList.remove("_active"),_slideUp(select_body_options,100)}}function select_init(select){const select_parent=select.parentElement,select_modifikator=select.getAttribute("class"),select_selected_option=select.querySelector("option:checked");let new_select;select.setAttribute("data-default",select_selected_option.value),select.style.display="none",select_parent.insertAdjacentHTML("beforeend",'<div class="select select_'+select_modifikator+'"></div>'),select.parentElement.querySelector(".select").appendChild(select),select_item(select)}function select_item(select){const select_parent=select.parentElement,select_items=select_parent.querySelector(".select__item"),select_options=select.querySelectorAll("option"),select_selected_option=select.querySelector("option:checked"),select_selected_text=select_selected_option.text,select_type=select.getAttribute("data-type");select_items&&select_items.remove();let select_type_content="";select_type_content="input"==select_type?'<div class="select__value icon-select-arrow"><input autocomplete="off" type="text" name="form[]" value="'+select_selected_text+'" data-error="Ошибка" data-value="'+select_selected_text+'" class="select__input"></div>':'<div class="select__value icon-select-arrow"><span>'+select_selected_text+"</span></div>",select_parent.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+select_type_content+'</div><div class="select__options">'+select_get_options(select_options)+"</div></div></div>"),select_actions(select,select_parent)}function select_actions(original,select){const select_item=select.querySelector(".select__item"),select_body_options=select.querySelector(".select__options"),select_options=select.querySelectorAll(".select__option"),select_type=original.getAttribute("data-type"),select_input=select.querySelector(".select__input");select_item.addEventListener("click",(function(){let selects=document.querySelectorAll(".select");for(let index=0;index<selects.length;index++){const select=selects[index],select_body_options=select.querySelector(".select__options");select!=select_item.closest(".select")&&(select.classList.remove("_active"),_slideUp(select_body_options,100))}_slideToggle(select_body_options,100),select.classList.toggle("_active")}));for(let index=0;index<select_options.length;index++){const select_option=select_options[index],select_option_value=select_option.getAttribute("data-value"),select_option_text=select_option.innerHTML;"input"==select_type?select_input.addEventListener("keyup",select_search):select_option.getAttribute("data-value")==original.value&&(select_option.style.display="none"),select_option.addEventListener("click",(function(){for(let index=0;index<select_options.length;index++){const el=select_options[index];el.style.display="block"}"input"==select_type?(select_input.value=select_option_text,original.value=select_option_value):(select.querySelector(".select__value").innerHTML="<span>"+select_option_text+"</span>",original.value=select_option_value,select_option.style.display="none")}))}}function select_get_options(select_options){if(select_options){let select_options_content="";for(let index=0;index<select_options.length;index++){const select_option=select_options[index],select_option_value=select_option.value;if(""!=select_option_value){const select_option_text=select_option.text;select_options_content=select_options_content+'<div data-value="'+select_option_value+'" class="select__option">'+select_option_text+"</div>"}}return select_options_content}}function select_search(e){let select_block=e.target.closest(".select ").querySelector(".select__options"),select_options=e.target.closest(".select ").querySelectorAll(".select__option"),select_search_text=e.target.value.toUpperCase();for(let i=0;i<select_options.length;i++){let select_option=select_options[i],select_txt_value;(select_option.textContent||select_option.innerText).toUpperCase().indexOf(select_search_text)>-1?select_option.style.display="":select_option.style.display="none"}}function selects_update_all(){let selects=document.querySelectorAll("select");if(selects)for(let index=0;index<selects.length;index++){const select=selects[index];select_item(select)}}selects.length>0&&selects_init();let inputs=document.querySelectorAll("input[data-value],textarea[data-value]");function inputs_init(inputs){if(inputs.length>0)for(let index=0;index<inputs.length;index++){const input=inputs[index],input_g_value=input.getAttribute("data-value");input_placeholder_add(input),""!=input.value&&input.value!=input_g_value&&input_focus_add(input),input.addEventListener("focus",(function(e){input.value==input_g_value&&(input_focus_add(input),input.value=""),"pass"===input.getAttribute("data-type")&&input.setAttribute("type","password"),input.classList.contains("_date"),input.classList.contains("_phone")&&(input.classList.add("_mask"),Inputmask("+375 (99) 9999999",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){input_clear_mask(input,input_g_value)}}).mask(input)),input.classList.contains("_digital")&&(input.classList.add("_mask"),Inputmask("9{1,}",{placeholder:"",clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){input_clear_mask(input,input_g_value)}}).mask(input)),form_remove_error(input)})),input.addEventListener("blur",(function(e){""==input.value&&(input.value=input_g_value,input_focus_remove(input),input.classList.contains("_mask")&&input_clear_mask(input,input_g_value),"pass"===input.getAttribute("data-type")&&input.setAttribute("type","text"))})),input.classList.contains("_date")&&datepicker(input,{customDays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],customMonths:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],formatter:(input,date,instance)=>{const value=date.toLocaleDateString();input.value=value},onSelect:function(input,instance,date){input_focus_add(input.el)}})}}function input_placeholder_add(input){const input_g_value=input.getAttribute("data-value");""==input.value&&""!=input_g_value&&(input.value=input_g_value)}function input_focus_add(input){input.classList.add("_focus"),input.parentElement.classList.add("_focus")}function input_focus_remove(input){input.classList.remove("_focus"),input.parentElement.classList.remove("_focus")}function input_clear_mask(input,input_g_value){input.inputmask.remove(),input.value=input_g_value,input_focus_remove(input)}inputs_init(inputs);let quantityButtons=document.querySelectorAll(".quantity__button");if(quantityButtons.length>0)for(let index=0;index<quantityButtons.length;index++){const quantityButton=quantityButtons[index];quantityButton.addEventListener("click",(function(e){let value=parseInt(quantityButton.closest(".quantity").querySelector("input").value);quantityButton.classList.contains("quantity__button_plus")?value++:(value-=1,value<1&&(value=1)),quantityButton.closest(".quantity").querySelector("input").value=value}))}const priceSlider=document.querySelector(".price__range");if(priceSlider){noUiSlider.create(priceSlider,{start:[0,2e5],connect:!0,tooltips:[wNumb({decimals:0}),wNumb({decimals:0})],range:{min:[0],max:[2e5]}});const priceStart=document.getElementById("price-start"),priceEnd=document.getElementById("price-end");function setPriceValues(){let priceStartValue,priceEndValue;""!=priceStart.value&&(priceStartValue=priceStart.value),""!=priceEnd.value&&(priceEndValue=priceEnd.value),priceSlider.noUiSlider.set([priceStartValue,priceEndValue])}priceStart.addEventListener("change",setPriceValues),priceEnd.addEventListener("change",setPriceValues)}var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){var is_ie;return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function testWebP(callback){var webP=new Image;webP.onload=webP.onerror=function(){callback(2==webP.height)},webP.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){if(isIE()){let ibg=document.querySelectorAll("._ibg");for(var i=0;i<ibg.length;i++)ibg[i].querySelector("img")&&null!=ibg[i].querySelector("img").getAttribute("src")&&(ibg[i].style.backgroundImage="url("+ibg[i].querySelector("img").getAttribute("src")+")")}}isIE()&&document.querySelector("body").classList.add("ie"),isMobile.any()&&document.querySelector("body").classList.add("_touch"),testWebP((function(support){1==support?document.querySelector("body").classList.add("_webp"):document.querySelector("body").classList.add("_no-webp")})),ibg(),document.querySelector(".wrapper")&&document.querySelector(".wrapper").classList.add("_loaded");let unlock=!0;if(location.hash){const hsh=location.hash.replace("#","");document.querySelector(".popup_"+hsh)?popup_open(hsh):document.querySelector("div."+hsh)&&_goto(document.querySelector("."+hsh),500,"")}let iconMenu=document.querySelector(".icon-menu");if(null!=iconMenu){let delay=500,menuBody=document.querySelector(".menu__body");iconMenu.addEventListener("click",(function(e){unlock&&(body_lock(delay),iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active"))}))}function menu_close(){let iconMenu=document.querySelector(".icon-menu"),menuBody=document.querySelector(".menu__body");iconMenu.classList.remove("_active"),menuBody.classList.remove("_active")}function body_lock(delay){let body;document.querySelector("body").classList.contains("_lock")?body_lock_remove(delay):body_lock_add(delay)}function body_lock_remove(delay){let body=document.querySelector("body");if(unlock){let lock_padding=document.querySelectorAll("._lp");setTimeout(()=>{for(let index=0;index<lock_padding.length;index++){const el=lock_padding[index];el.style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("_lock")},delay),unlock=!1,setTimeout((function(){unlock=!0}),delay)}}function body_lock_add(delay){let body=document.querySelector("body");if(unlock){let lock_padding=document.querySelectorAll("._lp");for(let index=0;index<lock_padding.length;index++){const el=lock_padding[index];el.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}body.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",body.classList.add("_lock"),unlock=!1,setTimeout((function(){unlock=!0}),delay)}}let title=document.querySelectorAll("._letter-animation");if(title)for(let index=0;index<title.length;index++){let el=title[index],txt,txt_words=el.innerHTML.replace("  "," ").split(" "),new_title="";for(let index=0;index<txt_words.length;index++){let txt_word=txt_words[index],len=txt_word.length;new_title+="<p>";for(let index=0;index<len;index++){let it=txt_word.substr(index,1);" "==it&&(it="&nbsp;"),new_title=new_title+"<span>"+it+"</span>"}el.innerHTML=new_title,new_title+="&nbsp;</p>"}}let tabs=document.querySelectorAll("._tabs");for(let index=0;index<tabs.length;index++){let tab=tabs[index],tabs_items=tab.querySelectorAll("._tabs-item"),tabs_blocks=tab.querySelectorAll("._tabs-block");for(let index=0;index<tabs_items.length;index++){let tabs_item=tabs_items[index];tabs_item.addEventListener("click",(function(e){for(let index=0;index<tabs_items.length;index++){let tabs_item;tabs_items[index].classList.remove("_active"),tabs_blocks[index].classList.remove("_active")}tabs_item.classList.add("_active"),tabs_blocks[index].classList.add("_active"),e.preventDefault()}))}}let spollers=document.querySelectorAll("._spoller"),spollersGo=!0;if(spollers.length>0)for(let index=0;index<spollers.length;index++){const spoller=spollers[index];spoller.addEventListener("click",(function(e){if(spollersGo){if(spollersGo=!1,spoller.classList.contains("_spoller-992")&&window.innerWidth>992)return!1;if(spoller.classList.contains("_spoller-768")&&window.innerWidth>768)return!1;if(spoller.closest("._spollers").classList.contains("_one")){let curent_spollers=spoller.closest("._spollers").querySelectorAll("._spoller");for(let i=0;i<curent_spollers.length;i++){let el=curent_spollers[i];el!=spoller&&(el.classList.remove("_active"),_slideUp(el.nextElementSibling))}}spoller.classList.toggle("_active"),_slideToggle(spoller.nextElementSibling),setTimeout((function(){spollersGo=!0}),500)}}))}let gallery=document.querySelectorAll("._gallery");function gallery_init(){for(let index=0;index<gallery.length;index++){const el=gallery[index];lightGallery(el,{counter:!1,selector:"a",download:!1})}}function search_in_list(input){let ul,li=input.parentNode.querySelector("ul").querySelectorAll("li"),filter=input.value.toUpperCase();for(i=0;i<li.length;i++){let el=li[i],item=el;txtValue=item.textContent||item.innerText,txtValue.toUpperCase().indexOf(filter)>-1?el.style.display="":el.style.display="none"}}function digi(str){var r;return str.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}function digi_animate(digi_animate){if(digi_animate.length>0)for(let index=0;index<digi_animate.length;index++){const el=digi_animate[index],el_to=parseInt(el.innerHTML.replace(" ",""));el.classList.contains("_done")||digi_animate_value(el,0,el_to,1500)}}function digi_animate_value(el,start,end,duration){var obj=el,range=end-start,minTimer=50,stepTime=Math.abs(Math.floor(duration/range));stepTime=Math.max(stepTime,50);var startTime,endTime=(new Date).getTime()+duration,timer;function run(){var now=(new Date).getTime(),remaining=Math.max((endTime-now)/duration,0),value=Math.round(end-remaining*range);obj.innerHTML=digi(value),value==end&&clearInterval(timer)}timer=setInterval(run,stepTime),run(),el.classList.add("_done")}gallery&&gallery_init();let popup_link=document.querySelectorAll("._popup-link"),popups=document.querySelectorAll(".popup");for(let index=0;index<popup_link.length;index++){const el=popup_link[index];el.addEventListener("click",(function(e){if(unlock){let item,video;popup_open(el.getAttribute("href").replace("#",""),el.getAttribute("data-video"))}e.preventDefault()}))}for(let index=0;index<popups.length;index++){const popup=popups[index];popup.addEventListener("click",(function(e){e.target.closest(".popup__body")||popup_close(e.target.closest(".popup"))}))}function popup_open(item,video=""){let activePopup;document.querySelectorAll(".popup._active").length>0&&popup_close("",!1);let curent_popup=document.querySelector(".popup_"+item);if(curent_popup&&unlock){if(""!=video&&null!=video){let popup_video;document.querySelector(".popup_video").querySelector(".popup__video").innerHTML='<iframe src="https://www.youtube.com/embed/'+video+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'}document.querySelector(".menu__body._active")||body_lock_add(500),curent_popup.classList.add("_active"),history.pushState("","","#"+item)}}function popup_close(item,bodyUnlock=!0){if(unlock){if(item){let video=item.querySelector(".popup__video");video&&(video.innerHTML=""),item.classList.remove("_active")}else for(let index=0;index<popups.length;index++){const popup=popups[index];let video=popup.querySelector(".popup__video");video&&(video.innerHTML=""),popup.classList.remove("_active")}!document.querySelector(".menu__body._active")&&bodyUnlock&&body_lock_remove(500),history.pushState("","",window.location.href.split("#")[0])}}let popup_close_icon=document.querySelectorAll(".popup__close,._popup-close");if(popup_close_icon)for(let index=0;index<popup_close_icon.length;index++){const el=popup_close_icon[index];el.addEventListener("click",(function(){popup_close(el.closest(".popup"))}))}function _wrap(el,wrapper){el.parentNode.insertBefore(wrapper,el),wrapper.appendChild(el)}function _removeClasses(el,class_name){for(var i=0;i<el.length;i++)el[i].classList.remove(class_name)}function _is_hidden(el){return null===el.offsetParent}function animate({timing:timing,draw:draw,duration:duration}){let start=performance.now();requestAnimationFrame((function animate(time){let timeFraction=(time-start)/duration;timeFraction>1&&(timeFraction=1);let progress=timing(timeFraction);draw(progress),timeFraction<1&&requestAnimationFrame(animate)}))}function makeEaseOut(timing){return function(timeFraction){return 1-timing(1-timeFraction)}}function makeEaseInOut(timing){return function(timeFraction){return timeFraction<.5?timing(2*timeFraction)/2:(2-timing(2*(1-timeFraction)))/2}}function quad(timeFraction){return Math.pow(timeFraction,2)}function circ(timeFraction){return 1-Math.sin(Math.acos(timeFraction))}document.addEventListener("keydown",(function(e){"Escape"===e.code&&popup_close()})),Element.prototype.closest||(Element.prototype.closest=function(css){for(var node=this;node;){if(node.matches(css))return node;node=node.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);